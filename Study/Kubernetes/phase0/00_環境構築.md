# Phase 0: ç’°å¢ƒæ§‹ç¯‰

## å­¦ç¿’ç›®æ¨™

ã“ã®å˜å…ƒã‚’çµ‚ãˆã‚‹ã¨ã€ä»¥ä¸‹ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š

- ãƒ­ãƒ¼ã‚«ãƒ«ã« Kubernetes ã‚¯ãƒ©ã‚¹ã‚¿ã‚’æ§‹ç¯‰ã§ãã‚‹
- kubectl ã§ã‚¯ãƒ©ã‚¹ã‚¿ã«æ¥ç¶šã§ãã‚‹
- åŸºæœ¬çš„ãªã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã§ãã‚‹

## é¸æŠè‚¢

| ãƒ„ãƒ¼ãƒ« | ç‰¹å¾´ | æ¨å¥¨ |
|--------|------|------|
| minikube | è»½é‡ã€å­¦ç¿’å‘ã‘ | âœ… åˆå­¦è€…å‘ã‘ |
| kind | Dockerå†…ã§K8s | CI/CDå‘ã‘ |
| Docker Desktop | GUIä»˜ã | Mac/Win |
| k3s | è¶…è»½é‡ | ã‚¨ãƒƒã‚¸/IoT |

## ãƒãƒ³ã‚ºã‚ªãƒ³

### æ¼”ç¿’1: minikube ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆMacï¼‰

```bash
# Homebrew ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
brew install minikube

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
minikube version

# ã‚¯ãƒ©ã‚¹ã‚¿èµ·å‹•
minikube start

# ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª
minikube status
```

**å‡ºåŠ›ä¾‹**
```
ğŸ˜„  minikube v1.32.0 on Darwin 14.0
âœ¨  Automatically selected the docker driver
ğŸ“Œ  Using Docker Desktop driver with root privileges
ğŸ§¯  Starting control plane node minikube in cluster minikube
ğŸšœ  Pulling base image ...
ğŸ”¥  Creating docker container (CPUs=2, Memory=4000MB) ...
ğŸ³  Preparing Kubernetes v1.28.3 on Docker 24.0.7 ...
ğŸ”  Verifying Kubernetes components...
ğŸŒŸ  Enabled addons: storage-provisioner, default-storageclass
ğŸ„  Done! kubectl is now configured to use "minikube" cluster
```

### æ¼”ç¿’2: kubectl ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# Mac
brew install kubectl

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
kubectl version --client

# ã‚¯ãƒ©ã‚¹ã‚¿ã«æ¥ç¶šç¢ºèª
kubectl cluster-info

# ãƒãƒ¼ãƒ‰ç¢ºèª
kubectl get nodes
```

**å‡ºåŠ›ä¾‹**
```
NAME       STATUS   ROLES           AGE   VERSION
minikube   Ready    control-plane   5m    v1.28.3
```

### æ¼”ç¿’3: åŸºæœ¬æ“ä½œã®ç¢ºèª

```bash
# å…¨ãƒªã‚½ãƒ¼ã‚¹ã‚¿ã‚¤ãƒ—ã‚’è¡¨ç¤º
kubectl api-resources

# åå‰ç©ºé–“ï¼ˆnamespaceï¼‰ä¸€è¦§
kubectl get namespaces

# default åå‰ç©ºé–“ã® Pod ä¸€è¦§
kubectl get pods

# å…¨åå‰ç©ºé–“ã® Pod ä¸€è¦§
kubectl get pods --all-namespaces
```

### æ¼”ç¿’4: minikube ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰

```bash
# Web UI ã‚’èµ·å‹•
minikube dashboard
```

ãƒ–ãƒ©ã‚¦ã‚¶ãŒè‡ªå‹•ã§é–‹ãã€Kubernetes Dashboard ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

### æ¼”ç¿’5: ç°¡å˜ãª Pod ã‚’å®Ÿè¡Œ

```bash
# nginx Pod ã‚’å®Ÿè¡Œ
kubectl run nginx --image=nginx

# Pod ç¢ºèª
kubectl get pods

# Pod ã®è©³ç´°
kubectl describe pod nginx

# Pod ã®ãƒ­ã‚°
kubectl logs nginx

# Pod å‰Šé™¤
kubectl delete pod nginx
```

## kubectl ã®åŸºæœ¬æ§‹æ–‡

```bash
kubectl [command] [TYPE] [NAME] [flags]
```

| ã‚³ãƒãƒ³ãƒ‰ | èª¬æ˜ | ä¾‹ |
|---------|------|-----|
| get | ãƒªã‚½ãƒ¼ã‚¹ä¸€è¦§ | `kubectl get pods` |
| describe | è©³ç´°æƒ…å ± | `kubectl describe pod nginx` |
| create | ãƒªã‚½ãƒ¼ã‚¹ä½œæˆ | `kubectl create -f pod.yaml` |
| apply | ä½œæˆ/æ›´æ–° | `kubectl apply -f pod.yaml` |
| delete | å‰Šé™¤ | `kubectl delete pod nginx` |
| logs | ãƒ­ã‚°è¡¨ç¤º | `kubectl logs nginx` |
| exec | ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ | `kubectl exec -it nginx -- bash` |

## ã‚ˆãä½¿ã†ã‚ªãƒ—ã‚·ãƒ§ãƒ³

```bash
# å‡ºåŠ›å½¢å¼
kubectl get pods -o wide      # è©³ç´°è¡¨ç¤º
kubectl get pods -o yaml      # YAMLå½¢å¼
kubectl get pods -o json      # JSONå½¢å¼

# åå‰ç©ºé–“æŒ‡å®š
kubectl get pods -n kube-system

# ãƒ©ãƒ™ãƒ«ã§ãƒ•ã‚£ãƒ«ã‚¿
kubectl get pods -l app=nginx

# ç›£è¦–ãƒ¢ãƒ¼ãƒ‰
kubectl get pods -w
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚¯ãƒ©ã‚¹ã‚¿ãŒèµ·å‹•ã—ãªã„

```bash
# ã‚¯ãƒ©ã‚¹ã‚¿å‰Šé™¤ã—ã¦å†ä½œæˆ
minikube delete
minikube start

# ãƒ‰ãƒ©ã‚¤ãƒã‚’æŒ‡å®š
minikube start --driver=docker
```

### ãƒªã‚½ãƒ¼ã‚¹ä¸è¶³

```bash
# ãƒ¡ãƒ¢ãƒªã¨CPUã‚’å¢—ã‚„ã™
minikube start --memory=4096 --cpus=2
```

## ç†è§£åº¦ç¢ºèª

### å•é¡Œ

kubectl ã§å…¨ã¦ã®åå‰ç©ºé–“ã® Pod ã‚’è¡¨ç¤ºã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ã¯ã©ã‚Œã‹ã€‚

**A.** `kubectl get pods`

**B.** `kubectl get pods --all`

**C.** `kubectl get pods --all-namespaces`

**D.** `kubectl get all pods`

---

### è§£ç­”ãƒ»è§£èª¬

**æ­£è§£: C**

`--all-namespaces` ã¾ãŸã¯ `-A` ã§å…¨åå‰ç©ºé–“ã‚’å¯¾è±¡ã«ã§ãã¾ã™ã€‚

```bash
kubectl get pods --all-namespaces
kubectl get pods -A  # çŸ­ç¸®å½¢
```

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

ç’°å¢ƒæ§‹ç¯‰ãŒå®Œäº†ã—ã¾ã—ãŸã€‚æ¬¡ã¯ Kubernetes ã®åŸºæœ¬æ¦‚å¿µã‚’å­¦ã³ã¾ã—ã‚‡ã†ã€‚

**æ¬¡ã®å˜å…ƒ**: [Phase 1-1: Kubernetes ã¨ã¯](../phase1/01_Kubernetesã¨ã¯.md)
