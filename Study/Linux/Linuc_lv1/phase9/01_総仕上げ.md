# Phase 9: 総仕上げ ～ 模擬問題と弱点補強 ～

## この単元の目的

全 Phase の学習内容を振り返り、模擬問題で理解度を確認します。

## 学習内容の総まとめ

### Phase 一覧と習得スキル

| Phase | テーマ | 主要コマンド/概念 |
|-------|--------|------------------|
| 0 | 環境準備 | Docker, コンテナ |
| 1 | 日常操作 | ls, cd, pwd, cp, mv, rm, mkdir |
| 2 | 調査と検索 | cat, less, head, tail, grep, find, パイプ |
| 3 | テキスト処理 | sed, awk |
| 4 | 権限管理 | chmod, chown, sudo, SUID/SGID |
| 5 | プロセス管理 | ps, top, kill, jobs, nohup |
| 6 | シェルの力 | 変数, export, シェルスクリプト |
| 7 | ネットワーク | ip, ping, ss, curl |
| 8 | システム管理 | systemctl, journalctl, cron |

---

## 模擬問題（20問）

### 問題 1: ファイルシステム

Linux の標準的なディレクトリ構造で、システムの設定ファイルが格納されるディレクトリはどれか。

A. `/bin`
B. `/etc`
C. `/var`
D. `/usr`

---

### 問題 2: ファイル操作

ディレクトリ `/home/user/docs` を `/backup` にコピーする正しいコマンドはどれか。

A. `cp /home/user/docs /backup`
B. `cp -r /home/user/docs /backup`
C. `mv /home/user/docs /backup`
D. `copy /home/user/docs /backup`

---

### 問題 3: ファイル閲覧

1000 行のファイル `data.txt` から 501 行目〜510 行目を表示するコマンドとして適切なものはどれか。

A. `head -510 data.txt | tail -10`
B. `tail -500 data.txt | head -10`
C. `head -500 data.txt | tail -10`
D. `sed -n '501,510p' data.txt`

---

### 問題 4: grep

ファイル `log.txt` から "ERROR" を含む行を、大文字小文字を区別せずに検索するコマンドはどれか。

A. `grep ERROR log.txt`
B. `grep -i ERROR log.txt`
C. `grep -v ERROR log.txt`
D. `grep -c ERROR log.txt`

---

### 問題 5: find

カレントディレクトリ以下から、7日以上前に更新された `.log` ファイルを検索するコマンドはどれか。

A. `find . -name "*.log" -mtime +7`
B. `find . -name "*.log" -mtime -7`
C. `find . -name "*.log" -mtime 7`
D. `find . -name "*.log" -mmin +7`

---

### 問題 6: パイプ

ファイル `access.log` から IP アドレス（1 列目）を抽出し、出現回数の多い順に上位 5 件を表示するコマンドはどれか。

A. `cat access.log | sort | uniq -c | head -5`
B. `awk '{print $1}' access.log | sort | uniq -c | sort -rn | head -5`
C. `grep -c IP access.log | head -5`
D. `cut -d' ' -f1 access.log | head -5`

---

### 問題 7: sed

ファイル内の全ての "old" を "new" に置換するコマンドはどれか。

A. `sed 's/old/new/' file`
B. `sed 's/old/new/g' file`
C. `sed 'old/new' file`
D. `sed -replace old new file`

---

### 問題 8: awk

スペース区切りのファイルから 2 列目が 100 より大きい行の 1 列目を表示するコマンドはどれか。

A. `awk '$2 > 100 {print $1}' file`
B. `awk '{if $2 > 100 print $1}' file`
C. `awk '$1 > 100 {print $2}' file`
D. `awk 'print $1 if $2 > 100' file`

---

### 問題 9: パーミッション

パーミッション `-rwxr-x---` を数値で表すとどれか。

A. 750
B. 751
C. 740
D. 650

---

### 問題 10: chmod

ファイルに所有者の実行権限を追加するコマンドはどれか。

A. `chmod +x file`
B. `chmod u+x file`
C. `chmod 100 file`
D. `chmod x+u file`

---

### 問題 11: sudo

`sudo` と `su` の違いについて正しい説明はどれか。

A. `sudo` は常に root になり、`su` は一時的に権限を借りる
B. `sudo` は一時的に権限を昇格し、`su` はユーザーを切り替える
C. `sudo` と `su` は全く同じ動作をする
D. `sudo` は Debian 系のみ、`su` は RedHat 系のみで使える

---

### 問題 12: プロセス

実行中の全プロセスを表示し、CPU 使用率とメモリ使用率も確認できるコマンドはどれか。

A. `ps -ef`
B. `ps aux`
C. `ps -l`
D. `ps`

---

### 問題 13: シグナル

プロセスを強制終了するシグナル番号はどれか。

A. 1 (HUP)
B. 9 (KILL)
C. 15 (TERM)
D. 20 (TSTP)

---

### 問題 14: 環境変数

シェル変数を子プロセスに継承させるコマンドはどれか。

A. `set VAR=value`
B. `export VAR=value`
C. `env VAR=value`
D. `local VAR=value`

---

### 問題 15: シェルスクリプト

シェルスクリプトで引数の数を表す特殊変数はどれか。

A. `$?`
B. `$#`
C. `$@`
D. `$$`

---

### 問題 16: 条件分岐

シェルスクリプトでファイルが存在するか確認する条件式はどれか。

A. `[ -f file ]`
B. `[ -e file ]`
C. `[ -d file ]`
D. `[ -x file ]`

---

### 問題 17: ネットワーク

IP アドレスとルーティングテーブルを確認するコマンドの組み合わせとして正しいものはどれか。

A. `ifconfig` と `route`
B. `ip addr` と `ip route`
C. `netstat -i` と `netstat -r`
D. 上記すべて正しい

---

### 問題 18: systemctl

サービス `nginx` を起動時に自動で開始するよう設定するコマンドはどれか。

A. `systemctl start nginx`
B. `systemctl enable nginx`
C. `systemctl reload nginx`
D. `systemctl autostart nginx`

---

### 問題 19: cron

毎日午前 3 時にスクリプトを実行する crontab の設定はどれか。

A. `3 0 * * * /path/to/script`
B. `0 3 * * * /path/to/script`
C. `* 3 * * * /path/to/script`
D. `3 * * * * /path/to/script`

---

### 問題 20: ログ

systemd のジャーナルログをリアルタイムで追跡するコマンドはどれか。

A. `journalctl -u`
B. `journalctl -f`
C. `journalctl -b`
D. `journalctl -n`

---

## 解答と解説

### 問題 1: 正解 B
`/etc` はシステム設定ファイルの格納場所です。
- `/bin`: 基本コマンド
- `/var`: 可変データ（ログなど）
- `/usr`: ユーザー用プログラム

### 問題 2: 正解 B
ディレクトリをコピーするには `-r`（再帰）オプションが必要です。

### 問題 3: 正解 A と D
- A: `head -510` で 1〜510 行を取得し、`tail -10` で末尾 10 行（501〜510）を表示
- D: `sed -n '501,510p'` で直接指定行を表示

### 問題 4: 正解 B
`-i` は case-insensitive（大文字小文字を区別しない）オプションです。

### 問題 5: 正解 A
`-mtime +7` は「7日より前」を意味します。

### 問題 6: 正解 B
IP を抽出 → ソート → 重複カウント → 数値で逆順ソート → 上位 5 件

### 問題 7: 正解 B
`g` フラグがないと各行の最初のマッチのみ置換されます。

### 問題 8: 正解 A
awk の基本構文: `条件 {アクション}`

### 問題 9: 正解 A
- rwx = 7
- r-x = 5
- --- = 0
→ 750

### 問題 10: 正解 B
`u+x` は所有者（user）に実行権限を追加。`+x` は全員に追加されます。

### 問題 11: 正解 B
`sudo` はコマンド単位で一時的に権限昇格、`su` はユーザー切り替え。

### 問題 12: 正解 B
`ps aux` は CPU 使用率（%CPU）とメモリ使用率（%MEM）を表示します。

### 問題 13: 正解 B
SIGKILL（9）は強制終了で、プロセスはトラップできません。

### 問題 14: 正解 B
`export` で環境変数として設定すると子プロセスに継承されます。

### 問題 15: 正解 B
- `$#`: 引数の数
- `$?`: 終了ステータス
- `$@`: 全引数
- `$$`: 自身の PID

### 問題 16: 正解 B
- `-e`: 存在確認（ファイルでもディレクトリでも）
- `-f`: 通常ファイルか確認
- `-d`: ディレクトリか確認
- `-x`: 実行可能か確認

### 問題 17: 正解 D
すべて正しいですが、`ip` コマンド（B）が推奨されます。

### 問題 18: 正解 B
`enable` は自動起動設定、`start` は今すぐ起動です。

### 問題 19: 正解 B
crontab: `分 時 日 月 曜日` → `0 3 * * *` = 毎日 3:00

### 問題 20: 正解 B
`-f` は follow（リアルタイム追跡）、`tail -f` と同様の動作です。

---

## 弱点分野の特定

模擬問題の結果を以下のカテゴリで振り返りましょう：

| カテゴリ | 問題番号 | 正解数 |
|---------|---------|--------|
| ファイル操作 | 1, 2 | /2 |
| 検索・フィルタ | 3, 4, 5, 6 | /4 |
| テキスト処理 | 7, 8 | /2 |
| 権限管理 | 9, 10, 11 | /3 |
| プロセス管理 | 12, 13 | /2 |
| シェル・スクリプト | 14, 15, 16 | /3 |
| ネットワーク | 17 | /1 |
| システム管理 | 18, 19, 20 | /3 |

**正解率 80% 未満のカテゴリは復習をおすすめします。**

---

## 学習チェックリスト

### 必須コマンド

```bash
# ファイル操作
[ ] ls -la
[ ] cd, pwd
[ ] cp -r, mv, rm -r
[ ] mkdir -p, touch

# 検索・フィルタ
[ ] cat, less, head, tail -f
[ ] grep -i, -v, -n, -r
[ ] find -name, -type, -mtime, -exec
[ ] | (パイプ), >, >>

# テキスト処理
[ ] sed 's/old/new/g'
[ ] awk '{print $1}'
[ ] sort, uniq -c, wc -l
[ ] cut -d -f

# 権限・ユーザー
[ ] chmod (数値/記号)
[ ] chown user:group
[ ] sudo, su -

# プロセス
[ ] ps aux, ps -ef
[ ] top
[ ] kill, kill -9
[ ] &, jobs, fg, bg

# シェル
[ ] 変数: VAR=value, $VAR
[ ] export
[ ] if, for, while
[ ] $1, $#, $?, $@

# ネットワーク
[ ] ip addr, ip route
[ ] ping, curl

# システム管理
[ ] systemctl start/stop/enable/status
[ ] journalctl -u, -f
[ ] crontab -e, -l
```

---

## 次のステップ

おめでとうございます！LinuC Level 1 の基礎学習が完了しました。

### さらなる学習のために

1. **実践練習**: Docker 環境で実際に手を動かす
2. **公式問題集**: LinuC 公式の問題集で実力確認
3. **実務シナリオ**: Web サーバーの構築・運用を試す
4. **Level 2 への準備**: より高度なシステム管理を学ぶ

### 試験対策

- LinuC 101 試験と 102 試験の両方に合格で Level 1 認定
- 各試験 60 問、90 分、65% 以上で合格
- CBT（コンピュータベースド試験）で随時受験可能

---

**学習お疲れ様でした！実践を重ねて、自信を持って試験に臨んでください。**
